<main class="container">
    <div class="card__container">
        <div class="book__presentation">
            <h1 class="presentation__title"><%=view.info.volumeInfo.title%></h1>
            <picture class="presentation__img-container">
                <% 
                    let img_url = '';
                    if (view.info.volumeInfo.imageLinks) { 
                        if (view.info.volumeInfo.imageLinks.thumbnail) {
                            img_url = view.info.volumeInfo.imageLinks.thumbnail.replace('http://', 'https://');
                        } else if (view.info.volumeInfo.imageLinks.smallThumbnail) {
                            img_url = view.info.volumeInfo.imageLinks.smallThumbnail.replace('http://', 'https://');
                        }
                    }
                %>
                <% if (img_url) { %>
                    <img src="<%= img_url %>" class="card__img" alt="Imagen del libro <%= view.info.volumeInfo.title %>" >
                <% } else {%>
                    <img src='/img/img_placeholder.png' class="card__img" alt="Portada del libro <%=view.info.volumeInfo.title%> no encontrada" style="height:250px;width:auto;">
                <% } %>
            </picture>
            <div class="presentation__info">
                <% if (view.info.volumeInfo.subtitle) { %>
                    <h4 class="presentation__subtitle"><%=view.info.volumeInfo.subtitle%></h4>
                <% } %>
                <% if (view.info.volumeInfo.categories) { %>
                    <p class="presentation__text">
                        <b>Categorías: </b>
                        <% view.info.volumeInfo.categories.forEach(category => { %>
                            <span><%=category%></span>
                        <% }) %>
                    </p>
                <% } %>
                <% if (view.info.volumeInfo.authors) { %>
                    <p class="presentation__text">
                        <b>Autor: </b>
                        <% view.info.volumeInfo.authors.forEach(author => { %>
                            <span><%= author %></span>
                        <% }) %>
                    </p>
                <% } %>
                <% if (view.info.volumeInfo.publisher) { %>
                    <p class="presentation__text">
                        <b>Editorial: </b>
                        <%=view.info.volumeInfo.publisher%>
                    </p>
                <% } %>
                <% if (view.info.volumeInfo.publishedDate) { %>
                    <p class="presentation__text">
                        <b>Fecha de publicación: </b>
                        <%=view.info.volumeInfo.publishedDate%>
                    </p>
                <% } %>
                <% if (view.info.volumeInfo.pageCount) { %>
                    <p class="presentation__text">
                        <b>Cantidad de páginas: </b>
                        <%=view.info.volumeInfo.pageCount%>
                    </p>
                <% } %>
            </div>
        </div>
        <div class="book__info">
            <h2 class="info__title">Descripción</h2>

            <%- view.info.volumeInfo.description %>
            <div class="info__btns-container">
                <a class="btn btn-primary" href="<%=view.info.volumeInfo.previewLink%>" role="button" target="_blank">Comprar</a>
                <% if (view.info.accessInfo && view.info.accessInfo.webReaderLink) { %>
                    <a class="btn btn-primary" target="_blank"
                    href="<%=view.info.accessInfo.webReaderLink%>" role="button">Leer eBook</a>
                <% } %>
            </div>
        </div>

    </div>
</main>


<script>
    const $loaderContainer = document.querySelector(".loader__container");

</script>